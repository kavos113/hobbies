cmake_minimum_required(VERSION 3.29)
project(winsock-udp CXX)

add_executable(winsock-udp-client client.cpp)
add_executable(winsock-udp-server server.cpp)
add_executable(winsock-udp-both both.cpp)
target_link_libraries(winsock-udp-client PUBLIC WS2_32.lib)
target_link_libraries(winsock-udp-client PUBLIC MsWSock.lib)
target_link_libraries(winsock-udp-client PUBLIC AdvAPI32.lib)
target_link_libraries(winsock-udp-server PUBLIC WS2_32.lib)
target_link_libraries(winsock-udp-server PUBLIC MsWSock.lib)
target_link_libraries(winsock-udp-server PUBLIC AdvAPI32.lib)
target_link_libraries(winsock-udp-both PUBLIC WS2_32.lib)
target_link_libraries(winsock-udp-both PUBLIC MsWSock.lib)
target_link_libraries(winsock-udp-both PUBLIC AdvAPI32.lib)

if (EXISTS WS2_32.lib)
    message(STATUS "there is winsock lib")
else ()
    message(STATUS "no winsock")
endif ()